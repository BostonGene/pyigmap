params.outdir = './'
params.zenodo_link = 'https://zenodo.org/records/11103555/files/'

process {
    withName:GetLinks {
        container = 'downloader-image'
    }
    withName:Download {
        container = 'downloader-image'
    }
    withName:Downsample {
        container = 'downloader-image'
    }
    withName:CalibDedup {
        container = 'calib_dedup-image'
    }
    withName:Fastp {
        container = 'fastp-image'
    }
    withName:Vidjil {
        container = 'vidjil-image'
    }
    withName:IgBlast {
        container = 'igblast-image'
    }
    withName:CDR3ErrorCorrector {
        container = 'cdr3nt_error_corrector-image'
    }
}

profiles {
    docker {
        docker.enabled = true
        docker.remove = true
        podman.enabled = false
        podman.remove = false
    }
    podman {
        docker.enabled = false
        docker.remove = false
        podman.enabled = true
        podman.remove = true
    }
}

manifest {
    name            = 'bostongene/pyigmap'
    defaultBranch   = 'main'
    homePage        = 'https://github.com/bostongene/pyigmap'
    mainScript      = 'main.nf'
    nextflowVersion = '>=23.10.1'
    doi             = '10.5281/zenodo.11103554'
}
